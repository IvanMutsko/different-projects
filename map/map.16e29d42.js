const e=async function(e,t){try{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&units=metric&appid=c807f2acdd74ab8a78287327fdf94a6e`);return await n.json()}catch(e){console.log(e)}},t=document.querySelectorAll("#map path"),n=document.querySelector(".state"),s=document.querySelector("#weather-block");function i(e){const t=new Date(1e3*e),n=t.getTimezoneOffset();console.log(n),t.setMinutes(t.getMinutes()-n);return`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`}t.forEach((t=>{t.style.fill="#ffd700",t.style.stroke="#499DF5",t.style.strokeWidth="1px",t.addEventListener("mouseenter",(e=>{t.style.fill="#f7f760";const s=t.getAttribute("title");n.textContent=`, ${s}`})),t.addEventListener("mouseleave",(e=>{t.style.fill="#ffd700",n.textContent=""})),t.addEventListener("click",(t=>{const n=t.target.getAttribute("data-geocode"),o=n.split(",")[0].trim(),r=n.split(",")[1].trim();e(o,r).then((e=>{const{main:t,weather:n,wind:o,clouds:r,sys:d}=e,p={temp:t.temp,feelsLike:t.feels_like,pressure:(.750062*t.pressure).toFixed(0),humidity:t.humidity,windSpeed:o.speed,windGust:o.gust,clouds:r.all,sunrise:i(d.sunrise),sunset:i(d.sunset),description:n[0].description,icon:n[0].icon,main:n[0].main,id:n[0].id};s.textContent="",function(e){const t=`\n  <p>Температура: ${e.temp} °C</p>\n  <p>відчувається як: ${e.feelsLike} °C</p>\n  <p>Тиск: ${e.pressure} мм рт. ст.</p>\n  <p>Вологість: ${e.humidity} %</p>\n  <p>Вітер: ${e.windSpeed} м/с</p>\n  <p>Вітер, пориви до: ${e.windGust} м/с</p>\n  <p>Хмарність: ${e.clouds} %</p>\n    <p>Схід: ${e.sunrise}</p>\n      <p>Захід: ${e.sunset}</p>\n  `;s.insertAdjacentHTML("beforeend",t)}(p)}))}))}));
//# sourceMappingURL=map.16e29d42.js.map
