{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,aAGMC,G,EAAeC,EAAAH,EAAA,CAAAG,EAAAC,GAAAC,MAAA,SAAAC,EAAgBC,EAAUC,G,IAErCC,EAGAC,E,2FAHiBC,MACrB,GAAyBC,OANP,mDAMC,QAAsBA,OAAhBL,EAAS,SAAuCK,OAAhCJ,EAAU,wBAA8BI,OALvE,qC,cAINH,EAAQI,EAAAC,K,SAGYL,EAASM,O,cAA7BL,EAAWG,EAAAC,K,kBACVJ,G,kCAEPM,QAAQC,IAAGJ,EAAAK,I,mEARsBX,EAAUC,G,iCCAzCW,EAAQC,SAASC,iBAAiB,aAClCC,EAAcF,SAASG,cAAc,UACrCC,EAAiBJ,SAASG,cAAc,kBAwF9C,SAASE,EAAeC,GACtB,IAAMC,EAAO,IAAIC,KAAY,IAAPF,GAEhBG,EAAQF,EAAKG,WAAWC,WAAWC,SAAS,EAAG,KAC/CC,EAAUN,EAAKO,aAAaH,WAAWC,SAAS,EAAG,KAEzD,MAAO,GAAYpB,OAATiB,EAAM,KAAWjB,OAARqB,E,CA5FrBd,EAAMgB,SAAQ,SAAAC,GACZA,EAAMC,MAAMC,KAAO,UACnBF,EAAMC,MAAME,YAAc,MAC1BH,EAAMC,MAAMG,OAAS,qBACrBJ,EAAMC,MAAMI,YAAc,MAE1BL,EAAMM,iBAAiB,cAAc,SAAAC,GACnCP,EAAMC,MAAMC,KAAO,UAEnB,IAAMM,EAAgBR,EAAMS,aAAa,SACzCvB,EAAYwB,YAAc,KAAmBlC,OAAdgC,E,IAGjCR,EAAMM,iBAAiB,cAAc,SAAAC,GACnCP,EAAMC,MAAMC,KAAO,UACnBhB,EAAYwB,YAAc,E,IAG5BV,EAAMM,iBAAiB,SAAS,SAAAC,GAC9B,IAAMI,EAAgBJ,EAAIK,OAAOH,aAAa,gBAExCtC,EAAWwC,EAAcE,MAAM,KAAK,GAAGC,OACvC1C,EAAYuC,EAAcE,MAAM,KAAK,GAAGC,OAE9ChD,EAAaK,EAAUC,GAAW2C,MAAK,SAAAC,GACrC,IAyBuBC,EACrBC,EA1BMC,EAAqCH,EAArCG,KAAMC,EAA+BJ,EAA/BI,QAASC,EAAsBL,EAAtBK,KAAMC,EAAgBN,EAAhBM,OAAQC,EAAQP,EAARO,IAE/BC,EAAuB,CAC3BC,KAAMN,EAAKM,KACXC,UAAWP,EAAKQ,WAChBC,UAA2B,QAAhBT,EAAKS,UAAqBC,QAAQ,GAC7CC,SAAUX,EAAKW,SACfC,UAAWV,EAAKW,MAChBC,SAAUZ,EAAKa,KACfZ,OAAQA,EAAOa,IACfC,QAAS/C,EAAekC,EAAIa,SAC5BC,OAAQhD,EAAekC,EAAIc,QAC3BC,YAAalB,EAAQ,GAAGkB,YACxBC,KAAMnB,EAAQ,GAAGmB,KACjBpB,KAAMC,EAAQ,GAAGD,KACjBqB,GAAIpB,EAAQ,GAAGoB,IAGjBpD,EAAesB,YAAc,GAQ3BQ,EAAS,yFAKoC1C,QANxByC,EALHO,GAQ4Bc,YAAY,+GASnC9D,OANsByC,EAAKsB,KAAK,kMAOjC/D,OADCyC,EAAKmB,QAAQ,uCAQb5D,OAPDyC,EAAKoB,OAAO,8LAQZ7D,OADCyC,EAAKQ,KAAK,0CAEjBjD,OADMyC,EAAKS,UAAU,oCAEhBlD,OADLyC,EAAKc,UAAU,0CAIXvD,OAHCyC,EAAKgB,SAAS,+FAIfzD,OADAyC,EAAKW,SAAS,0CAEZpD,OADFyC,EAAKa,SAAS,yCACAtD,OAAZyC,EAAKK,OAAO,gDAKxClC,EAAeqD,mBAAmB,YAAavB,E","sources":["src/map/js/fetchweather.js","src/map/js/index.js"],"sourcesContent":["const URL_WEATHER_API = 'https://api.openweathermap.org/data/2.5/weather?';\nconst API_KEY = 'c807f2acdd74ab8a78287327fdf94a6e';\n\nconst fetchWeather = async function (latitude, longitude) {\n  try {\n    const response = await fetch(\n      `${URL_WEATHER_API}lat=${latitude}&lon=${longitude}&units=metric&appid=${API_KEY}`\n    );\n    const weatherDate = await response.json();\n    return weatherDate;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport { fetchWeather };\n","import 'normalize.css';\nimport { fetchWeather } from './fetchweather';\n\nconst mapEl = document.querySelectorAll('#map path');\nconst stateNameEl = document.querySelector('.state');\nconst weatherBlockEl = document.querySelector('#weather-block');\n\nmapEl.forEach(state => {\n  state.style.fill = '#ffd700';\n  state.style.fillOpacity = '0.3';\n  state.style.stroke = 'rgba(0, 0, 0, 0.3)';\n  state.style.strokeWidth = '1px';\n\n  state.addEventListener('mouseenter', evt => {\n    state.style.fill = '#0057b8';\n\n    const stateNameText = state.getAttribute('title');\n    stateNameEl.textContent = `, ${stateNameText}`;\n  });\n\n  state.addEventListener('mouseleave', evt => {\n    state.style.fill = '#ffd700';\n    stateNameEl.textContent = '';\n  });\n\n  state.addEventListener('click', evt => {\n    const geoCodeString = evt.target.getAttribute('data-geocode');\n\n    const latitude = geoCodeString.split(',')[0].trim();\n    const longitude = geoCodeString.split(',')[1].trim();\n\n    fetchWeather(latitude, longitude).then(weatherData => {\n      const { main, weather, wind, clouds, sys } = weatherData;\n\n      const weatherDataForMarkup = {\n        temp: main.temp, //\n        feelsLike: main.feels_like, //\n        pressure: (main.pressure * 0.750062).toFixed(0), //\n        humidity: main.humidity, //\n        windSpeed: wind.speed, //\n        windGust: wind.gust, //\n        clouds: clouds.all, //\n        sunrise: formatUnixTime(sys.sunrise), //\n        sunset: formatUnixTime(sys.sunset), //\n        description: weather[0].description, //\n        icon: weather[0].icon,\n        main: weather[0].main,\n        id: weather[0].id, //\n      };\n\n      weatherBlockEl.textContent = '';\n\n      createMarkupWeather(weatherDataForMarkup);\n    });\n  });\n});\n\nfunction createMarkupWeather(data) {\n  const markup = `\n  <div class=\"weather-description\">\n          <h2 class=\"descr-title\">Description: ${data.description}</h2>\n          <img\n            class=\"weather-img\"\n            src=\"https://openweathermap.org/img/wn/${data.icon}@2x.png\"\n          />\n          <ul class=\"time-wrap weather-list\">\n            <li>\n              Curent time: 00:00\n              <ul class=\"time-list\">\n                <li>sunrise: ${data.sunrise}</li>\n                <li>sunset: ${data.sunset}</li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n        <div class=\"wether-data-wrap\">\n          <ul class=\"weather-list\">\n            <li>Temperature: ${data.temp} °C</li>\n            <li>Feels like: ${data.feelsLike} °C</li>\n            <li>Wind: ${data.windSpeed} m/s</li>\n            <li>Wind gust: ${data.windGust} m/s</li>\n          </ul>\n          <ul class=\"weather-list\">\n            <li>Pressure: ${data.pressure} mmHg</li>\n            <li>Humidity: ${data.humidity} %</li>\n            <li>Cloudiness: ${data.clouds} %</li>\n          </ul>\n        </div>\n  `;\n\n  weatherBlockEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction formatUnixTime(time) {\n  const date = new Date(time * 1000);\n\n  const hours = date.getHours().toString().padStart(2, '0');\n  const minutes = date.getMinutes().toString().padStart(2, '0');\n\n  return `${hours}:${minutes}`;\n}\n\n// const mapTest = document.querySelector('#map');\n// const width = mapTest.getAttribute('width') / 2;\n// const height = mapTest.getAttribute('height') / 2;\n\n// console.log(width, height);\n\n// mapTest.setAttribute('width', width);\n// mapTest.setAttribute('height', height);\n"],"names":["$bpxeT","parcelRequire","$a0ce4a79f701afff$export$7a954b5c9a93cc61","$parcel$interopDefault","$2TvXO","mark","_callee","latitude","longitude","response","weatherDate","fetch","concat","_ctx","sent","json","console","log","t0","$6b5c088a86eb94cb$var$mapEl","document","querySelectorAll","$6b5c088a86eb94cb$var$stateNameEl","querySelector","$6b5c088a86eb94cb$var$weatherBlockEl","$6b5c088a86eb94cb$var$formatUnixTime","time","date","Date","hours","getHours","toString","padStart","minutes","getMinutes","forEach","state","style","fill","fillOpacity","stroke","strokeWidth","addEventListener","evt","stateNameText","getAttribute","textContent","geoCodeString","target","split","trim","then","weatherData","data","markup","main","weather","wind","clouds","sys","weatherDataForMarkup","temp","feelsLike","feels_like","pressure","toFixed","humidity","windSpeed","speed","windGust","gust","all","sunrise","sunset","description","icon","id","insertAdjacentHTML"],"version":3,"file":"map.a97960dd.js.map"}